{"version":3,"sources":["controllers/contact.controller.js"],"names":["ControllerContact","_viewContact","_fetchService","_serviceContact","_serviceRegexp","_localService","createSearchAlphabet","selectFilterAddChange","addClickPhones","addClickNewContact","addClickRefreshContact","buttonAddClickCreateContact","addClickInputImage","fieldsRegExp","addEventsDragDropImage","fetchContact","URL","CONTACTS","UPDATE","FETCH_VERBS","GET","then","dataContacts","lastUpdate","localStorage","getItem","getContacts","contacts","loadContacts","resultContacts","chargeContacts","setItem","alphabet","TEXT_HTML","ALPHABET","split","i","max","label","createElementAndAddClassId","ELEMENTS_HTML","LABEL","STYLE","LETTER","addEventListener","EVENT_LISTENER","CLICK","removeContact","CONTACT","DEFAULT","letterToFind","refreshContacs","bind","innerHTML","DIV_CONTAINER_ALPHABET","appendChild","length","SELECT_FILTER_FIELD","CHANGE","filterContacts","value","toUpperCase","ICON_ADD_PHONES","addContainerPhone","ICON_REFRESH_CONTACT","editContainerContact","MAN","cleanContainerButtonContact","BUTTON_REFRESH_CONTACT","BUTTON_CREATE_CONTACT","createContact","INPUT_IMAGE","file","files","changeImage","NAME_CONTACT","BLUR","validateName","SURNAME_CONTACT","validateSurname","AGE_CONTACT","validateAge","PHONE_CONTACT","validatePhone","img","IMAGE_CONTACT","reader","FileReader","onloadend","src","result","readAsDataURL","MODEL","CAMERA","DRAG_OVER","overImage","DROP","e","stopPropagation","preventDefault","dataTransfer","isValidName","setOkStatus","setKOStatus","isValidSurname","isValidAge","field","isValidPhone","setStatus","FONTAWESOME","OK","KO","status","classList","add","FORM_CONTROL","divCol","createElementAndAddClass","DIV","COL_SM_12","TEXT_RIGHT","buttonCreate","BUTTON","BTN","BTN_INFO","CREATE","CONTAINER_BUTTONS","data","takeDataContactDOM","addContact","createContainerContact","fetchCreateContact","POST","id","document","getElementById","updateOrCreateContact","selectContact","idContact","contactSelected","listPhone","phone","photo","name","surname","age","gender","editContainerButtonContact","divColLeft","COL_SM_6","divColRight","buttonDelete","BTN_DANGER","buttonUpdate","deleteContact","updateContact","DELETE","appendChildElements","remove","refreshOneContact","contact","divRowContactPreviously","_id","divRowElements","children","divColData","phones","photoContact","nameContact","surnameContact","ageContact","phonesContactContainer","CONTAINER_PHONES","phonesContact","COMPONENT_HTML","ID_PHONE_INPUT","join","genderContact","GENDER_CONTACT","phoneInput","firstContainerPhone","valueInputPhone","divRow","ROW","PADDING_TOP_NORMAL","colLeft","COL_SM_4","colMiddle","inputPhone","INPUT","colRight","COL_SM_2","iconSubtractPhone","SPAN","GLYPHICON","GLYPHICON_MINUS","ICON","DIV_CONTAINER_CONTACTS","orderedContacts","Object","keys","divColAvatar","imgAvatar","IMG","AVATAR","PHOTO","divColInformation","COL_SM_8","pName","createElementAndAddInner","P","pSurname","pAge","pPhone","pGender","element","classes","newElement","createElement","text","elementFather","elements"],"mappings":"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","sourcesContent":["class ControllerContact{\n    constructor(_viewContact, _fetchService ,_serviceContact, _serviceRegexp, _localService){\n        this._viewContact = _viewContact;\n        this._fetchService = _fetchService;\n        this._serviceContact = _serviceContact;\n        this._serviceRegexp = _serviceRegexp;\n        this._localService = _localService;\n        this.createSearchAlphabet();\n        this.selectFilterAddChange();\n        this.addClickPhones();\n        this.addClickNewContact();\n        this.addClickRefreshContact();\n        this.buttonAddClickCreateContact();\n        this.addClickInputImage();\n        this.fieldsRegExp();\n        this.addEventsDragDropImage();\n        this._fetchService.fetchContact(URL.CONTACTS+URL.UPDATE, FETCH_VERBS.GET).then(dataContacts => {\n            if(dataContacts.lastUpdate === localStorage.getItem(\"lastUpdate\")){\n                this._localService.getContacts().then(contacts => {\n                    this.loadContacts(contacts);\n                });\n            }else{\n                this._fetchService.fetchContact(URL.CONTACTS, FETCH_VERBS.GET).then(resultContacts => {\n                    this.loadContacts(resultContacts);\n                    this._localService.chargeContacts(resultContacts);\n                    localStorage.setItem(\"lastUpdate\",dataContacts.lastUpdate);\n                });\n            }\n        });\n    }\n\n    createSearchAlphabet(){\n        const alphabet = TEXT_HTML.ALPHABET.split('');\n        for(let i=0, max=alphabet.length;i<max;++i){\n            const label = this.createElementAndAddClassId(ELEMENTS_HTML.LABEL, [STYLE.LETTER], alphabet[i]);\n            label.addEventListener(EVENT_LISTENER.CLICK, function(){\n                this._serviceContact.removeContact(CONTACT.DEFAULT);\n                this._serviceContact.letterToFind = alphabet[i];\n                this.refreshContacs();\n            }.bind(this));\n            label.innerHTML = alphabet[i];\n            this._viewContact.DIV_CONTAINER_ALPHABET.appendChild(label);\n        };\n    };\n\n    selectFilterAddChange(){\n        this._viewContact.SELECT_FILTER_FIELD.addEventListener(EVENT_LISTENER.CHANGE, function(){\n            this._serviceContact.removeContact(CONTACT.DEFAULT);\n            this._serviceContact.filterContacts = (this._viewContact.SELECT_FILTER_FIELD.value).toUpperCase();\n            this.refreshContacs();\n        }.bind(this));\n    }\n\n    addClickPhones(){\n        this._viewContact.ICON_ADD_PHONES.addEventListener(EVENT_LISTENER.CLICK, function(){\n            this.addContainerPhone(\"\");\n        }.bind(this));\n    }\n\n    addClickNewContact(){\n        this._viewContact.ICON_REFRESH_CONTACT.addEventListener(EVENT_LISTENER.CLICK, function(){\n            this.editContainerContact(\"\",\"\", \"\", \"\", [\"\"], TEXT_HTML.MAN);\n            this.cleanContainerButtonContact();\n        }.bind(this));\n    }\n\n    addClickRefreshContact(){\n        this._viewContact.BUTTON_REFRESH_CONTACT.addEventListener(EVENT_LISTENER.CLICK, function(){\n            this.editContainerContact(\"\",\"\", \"\", \"\", [\"\"], TEXT_HTML.MAN);\n            this.cleanContainerButtonContact();\n            this._serviceContact.letterToFind = null;\n            this.refreshContacs();\n        }.bind(this));\n    }\n\n    buttonAddClickCreateContact(){\n        this._viewContact.BUTTON_CREATE_CONTACT.addEventListener(EVENT_LISTENER.CLICK, this.createContact.bind(this));\n    }\n\n    addClickInputImage(){\n        this._viewContact.INPUT_IMAGE.addEventListener(EVENT_LISTENER.CHANGE, function(){\n            const file = this._viewContact.INPUT_IMAGE.files[0];\n            this.changeImage(file);\n        }.bind(this));\n    }\n\n    fieldsRegExp(){\n        this._viewContact.NAME_CONTACT.addEventListener(EVENT_LISTENER.BLUR, this.validateName.bind(this));\n        this._viewContact.SURNAME_CONTACT.addEventListener(EVENT_LISTENER.BLUR, this.validateSurname.bind(this));\n        this._viewContact.AGE_CONTACT.addEventListener(EVENT_LISTENER.BLUR, this.validateAge.bind(this));\n        this._viewContact.PHONE_CONTACT.addEventListener(EVENT_LISTENER.BLUR, function(){\n            this.validatePhone(this._viewContact.PHONE_CONTACT);\n        }.bind(this));\n    }\n\n    changeImage(file){\n        const img = this._viewContact.IMAGE_CONTACT;\n        const reader  = new FileReader();\n \n        reader.onloadend = function () {\n            img.src = reader.result;\n        }\n \n        if (file) {\n            reader.readAsDataURL(file);\n        } else {\n            img.src = MODEL.CAMERA;\n        }\n    }\n\n    addEventsDragDropImage(){\n        this._viewContact.IMAGE_CONTACT.addEventListener(EVENT_LISTENER.DRAG_OVER, this.overImage);\n        this._viewContact.IMAGE_CONTACT.addEventListener(EVENT_LISTENER.DROP, function(e){\n            e.stopPropagation();\n            e.preventDefault();\n            const files = e.dataTransfer.files;\n            const file = files[0];\n            this.changeImage(file);\n        }.bind(this));\n    }\n\n    overImage(e){\n        e.stopPropagation();\n        e.preventDefault();\n    }  \n\n    validateName(){\n        return this._serviceRegexp.isValidName(this._viewContact.NAME_CONTACT.value)\n            ? this.setOkStatus(this._viewContact.NAME_CONTACT)\n            : this.setKOStatus(this._viewContact.NAME_CONTACT);\n    }\n\n    validateSurname(){\n        return this._serviceRegexp.isValidSurname(this._viewContact.SURNAME_CONTACT.value)\n            ? this.setOkStatus(this._viewContact.SURNAME_CONTACT)\n            : this.setKOStatus(this._viewContact.SURNAME_CONTACT);\n    }\n\n    validateAge(){\n        return this._serviceRegexp.isValidAge(this._viewContact.AGE_CONTACT.value)\n            ? this.setOkStatus(this._viewContact.AGE_CONTACT)\n            : this.setKOStatus(this._viewContact.AGE_CONTACT);\n    }\n\n    validatePhone(field){\n        return this._serviceRegexp.isValidPhone(field.value)\n            ? this.setOkStatus(field)\n            : this.setKOStatus(field);\n    }\n\n    setOkStatus(field) {\n        this.setStatus(field, FONTAWESOME.OK);\n        return true;\n    }\n    \n    setKOStatus(field) {\n        this.setStatus(field, FONTAWESOME.KO);\n        return false;\n    }\n\n    setStatus(field, status) {\n        field.classList = status;\n        field.classList.add(STYLE.FORM_CONTROL);\n    };\n\n    cleanContainerButtonContact(){\n        const divCol = this.createElementAndAddClass(ELEMENTS_HTML.DIV, [STYLE.COL_SM_12, STYLE.TEXT_RIGHT]);\n        const buttonCreate = this.createElementAndAddClass(ELEMENTS_HTML.BUTTON, [STYLE.BTN, STYLE.BTN_INFO]);\n        buttonCreate.addEventListener(EVENT_LISTENER.CLICK, function(){\n            this.createContact();\n        }.bind(this));\n        buttonCreate.innerHTML = TEXT_HTML.CREATE;\n        divCol.appendChild(buttonCreate);\n        this._viewContact.CONTAINER_BUTTONS.innerHTML = \"\";\n        this._viewContact.CONTAINER_BUTTONS.appendChild(divCol);\n    }\n\n    createContact(){\n        const data = this.takeDataContactDOM(CONTACT.DEFAULT);\n        this.editContainerContact(\"\", \"\", \"\", \"\", [\"\"], TEXT_HTML.MAN);\n        this.cleanContainerButtonContact();\n        this._serviceContact.addContact(data);\n        this.createContainerContact(data);\n        this._fetchService.fetchCreateContact(URL.CONTACTS+URL.CREATE, FETCH_VERBS.POST, data).then(id => {\n            this._viewContact.document.getElementById(id).addEventListener(EVENT_LISTENER.CLICK, function(){\n                this._localService.updateOrCreateContact(this._serviceContact.contacts[id]);\n                this.selectContact(id);\n            }.bind(this));\n        });\n    }\n\n    selectContact(idContact){\n        const contactSelected = this._serviceContact.contacts[idContact];\n        const listPhone = contactSelected.phone.split(\",\");\n        this.editContainerContact(contactSelected.photo, contactSelected.name, contactSelected.surname, contactSelected.age, listPhone, contactSelected.gender);\n        this.editContainerButtonContact(idContact);\n    } \n\n    editContainerButtonContact(idContact){\n        const divColLeft = this.createElementAndAddClass(ELEMENTS_HTML.DIV, [STYLE.COL_SM_6, STYLE.TEXT_RIGHT]);\n        const divColRight = this.createElementAndAddClass(ELEMENTS_HTML.DIV, [STYLE.COL_SM_6, STYLE.TEXT_RIGHT]);\n        const buttonDelete = this.createElementAndAddClass(ELEMENTS_HTML.BUTTON, [STYLE.BTN, STYLE.BTN_DANGER]);\n        const buttonUpdate = this.createElementAndAddClass(ELEMENTS_HTML.BUTTON, [STYLE.BTN, STYLE.BTN_INFO]);\n        buttonDelete.addEventListener(EVENT_LISTENER.CLICK, function(){\n            this.deleteContact(idContact);\n        }.bind(this));\n        buttonUpdate.addEventListener(EVENT_LISTENER.CLICK, function(){\n            this.updateContact(idContact);\n        }.bind(this));\n        buttonDelete.innerHTML = TEXT_HTML.DELETE;\n        buttonUpdate.innerHTML = TEXT_HTML.UPDATE;\n        divColLeft.appendChild(buttonDelete);\n        divColRight.appendChild(buttonUpdate);\n        this._viewContact.CONTAINER_BUTTONS.innerHTML = \"\";\n        this.appendChildElements(this._viewContact.CONTAINER_BUTTONS, [divColLeft, divColRight]);\n    }\n\n    deleteContact(idContact){\n        const data = { id : idContact };\n        this._fetchService.fetchContact(URL.CONTACTS, FETCH_VERBS.DELETE, data);\n        this.editContainerContact(\"\",\"\", \"\", \"\", [\"\"], TEXT_HTML.MAN);\n        this.cleanContainerButtonContact();\n        this._serviceContact.removeContact(idContact);\n        this._localService.deleteContact(idContact);\n        this._viewContact.document.getElementById(idContact).remove();\n    }\n\n    updateContact(idContact){\n        const data = this.takeDataContactDOM(idContact);\n        this._serviceContact.addContact(data);\n        this._localService.updateOrCreateContact(this._serviceContact.contacts[idContact]);\n        this._fetchService.fetchContact(URL.CONTACTS+URL.UPDATE, FETCH_VERBS.POST, data);\n        this.editContainerContact(\"\",\"\", \"\", \"\", [\"\"], TEXT_HTML.MAN);\n        this.cleanContainerButtonContact();\n        this.refreshOneContact(data);\n    }\n\n    refreshOneContact(contact){\n        const divRowContactPreviously = this._viewContact.document.getElementById(contact._id);\n        divRowContactPreviously.id = contact._id;\n        const divRowElements = divRowContactPreviously.children\n        const img = divRowElements[0].children[0];\n        img.src = contact.photo;\n        const divColData = divRowElements[1].children;\n        const name = divColData[0];\n        const surname = divColData[1];\n        const age = divColData[2];\n        const phones = divColData[3];\n        const gender = divColData[4];\n        name.innerHTML = contact.name;\n        surname.innerHTML = contact.surname;\n        age.innerHTML = contact.age;\n        phones.innerHTML = contact.phone;\n        gender.innerHTML = contact.gender;\n    }\n\n    takeDataContactDOM(idContact){\n        const photoContact = this._viewContact.IMAGE_CONTACT.src;\n        const nameContact = this._viewContact.NAME_CONTACT.value;\n        const surnameContact = this._viewContact.SURNAME_CONTACT.value;\n        const ageContact = this._viewContact.AGE_CONTACT.value;\n        const phonesContactContainer = this._viewContact.CONTAINER_PHONES.children;\n        let phonesContact = [];\n        for(let i=0, max=phonesContactContainer; i<max.length; ++i){\n            phonesContact = [...phonesContact, this._viewContact.document.getElementById(COMPONENT_HTML.ID_PHONE_INPUT+i).value];\n        }\n        phonesContact = phonesContact.join();\n        const genderContact = this._viewContact.GENDER_CONTACT.value;\n        const data = { _id : idContact, photo : photoContact, name : nameContact, surname : surnameContact, age : ageContact, phone : phonesContact, gender : genderContact };\n        return data;\n    }\n\n    editContainerContact(photo, name, surname, age, listPhone, gender){\n        this._serviceContact.phoneInput = 1;\n        this._viewContact.INPUT_IMAGE.value = \"\";\n        this._viewContact.IMAGE_CONTACT.src = photo || MODEL.CAMERA;\n        this._viewContact.NAME_CONTACT.value = name;\n        this._viewContact.SURNAME_CONTACT.value = surname;\n        this._viewContact.AGE_CONTACT.value = age;\n        this._viewContact.PHONE_CONTACT.value = listPhone[0];\n        this._viewContact.GENDER_CONTACT.value = gender;\n        const firstContainerPhone = this._viewContact.CONTAINER_PHONES.children[0];\n        this._viewContact.CONTAINER_PHONES.innerHTML = \"\";\n        this._viewContact.CONTAINER_PHONES.appendChild(firstContainerPhone);\n        for(let i = 1, max=listPhone; i<max.length; ++i){\n            this.addContainerPhone(max[i]);\n        };\n    }\n\n    addContainerPhone(valueInputPhone){\n        const divRow = this.createElementAndAddClass(ELEMENTS_HTML.DIV, [STYLE.ROW, STYLE.PADDING_TOP_NORMAL]);\n        const colLeft = this.createElementAndAddClass(ELEMENTS_HTML.DIV, [STYLE.COL_SM_4]);\n        const colMiddle = this.createElementAndAddClass(ELEMENTS_HTML.DIV, [STYLE.COL_SM_6]);\n        const inputPhone = this.createElementAndAddClassId(ELEMENTS_HTML.INPUT, [STYLE.FORM_CONTROL], COMPONENT_HTML.ID_PHONE_INPUT+this._serviceContact.phoneInput);\n        inputPhone.value = valueInputPhone;\n        inputPhone.addEventListener(EVENT_LISTENER.BLUR, function(){\n            this.validatePhone(inputPhone);\n        }.bind(this));\n        const colRight = this.createElementAndAddClass(ELEMENTS_HTML.DIV, [STYLE.COL_SM_2]);\n        const iconSubtractPhone = this.createElementAndAddClass(ELEMENTS_HTML.SPAN, [STYLE.GLYPHICON, STYLE.GLYPHICON_MINUS, STYLE.ICON]);\n        iconSubtractPhone.addEventListener(EVENT_LISTENER.CLICK, function(){ \n            divRow.remove();\n            this._serviceContact.phoneInput -= 1;\n        }.bind(this));\n        colMiddle.appendChild(inputPhone);\n        colRight.appendChild(iconSubtractPhone);\n        this.appendChildElements(divRow, [colLeft, colMiddle, colRight]);\n        this._viewContact.CONTAINER_PHONES.appendChild(divRow);\n        this._serviceContact.phoneInput += 1;\n    }\n\n    refreshContacs(){\n        this._viewContact.DIV_CONTAINER_CONTACTS.innerHTML = \"\";\n        this.loadContacts(this._serviceContact.orderedContacts(this._serviceContact.filterContacts, this._serviceContact.letterToFind));\n    }\n\n    loadContacts(resultContacts){\n        for(const contact of Object.keys(resultContacts)){\n            this._serviceContact.addContact(resultContacts[contact]);\n            const divRow = this.createContainerContact(resultContacts[contact]);\n            divRow.addEventListener(EVENT_LISTENER.CLICK, function(){\n                this.selectContact(resultContacts[contact]._id)\n            }.bind(this));\n        }\n    };\n\n    createContainerContact(data){\n        const divRow = this.createElementAndAddClassId(ELEMENTS_HTML.DIV, [STYLE.ROW, STYLE.CONTACT],data._id);\n        const divColAvatar = this.createElementAndAddClass(ELEMENTS_HTML.DIV, [STYLE.COL_SM_4]);\n        const imgAvatar = this.createElementAndAddClass(ELEMENTS_HTML.IMG, [STYLE.AVATAR]);\n        imgAvatar.src = data.photo || MODEL.PHOTO;\n        const divColInformation = this.createElementAndAddClass(ELEMENTS_HTML.DIV, [STYLE.COL_SM_8]);\n        const pName = this.createElementAndAddInner(ELEMENTS_HTML.P, data.name);\n        const pSurname = this.createElementAndAddInner(ELEMENTS_HTML.P, data.surname);\n        const pAge = this.createElementAndAddInner(ELEMENTS_HTML.P, data.age);\n        const pPhone = this.createElementAndAddInner(ELEMENTS_HTML.P, data.phone);\n        const pGender = this.createElementAndAddInner(ELEMENTS_HTML.P, data.gender);\n        this.appendChildElements(divColInformation, [pName, pSurname, pAge, pPhone, pGender]);\n        divColAvatar.appendChild(imgAvatar);\n        this.appendChildElements(divRow, [divColAvatar, divColInformation]);\n        this._viewContact.DIV_CONTAINER_CONTACTS.appendChild(divRow);\n        return divRow;\n    }\n\n    createElementAndAddClass(element, classes){\n        const newElement = this._viewContact.document.createElement(element);\n        newElement.classList.add(...classes);\n        return newElement;\n    }\n\n    createElementAndAddClassId(element, classes, id){\n        const newElement = this.createElementAndAddClass(element, classes);\n        newElement.id = id;\n        return newElement;\n    }\n\n    createElementAndAddInner(element, text){\n        const newElement = this._viewContact.document.createElement(element);\n        newElement.innerHTML = text;\n        return newElement;\n    }\n\n    appendChildElements(elementFather, elements){\n        for(let i=0, max=elements.length; i<max; ++i){\n            elementFather.appendChild(elements[i]);\n        }\n    }\n    \n}"],"file":"contact.controller.js"}