{"version":3,"sources":["services/fetch.service.js"],"names":["FetchService","_serviceContact","_viewContact","route","verb","data","url","init","headers","method","body","JSON","stringify","fetch","then","result","json","fetchContact","contacts","id","CONTACT","DEFAULT","_id","document","getElementById"],"mappings":";;;;;;;;IAAMA,Y;;;AACF,wBAAYC,eAAZ,EAA6BC,YAA7B,EAA0C;AAAA;;AACtC,SAAKD,eAAL,GAAuBA,eAAvB;AACA,SAAKC,YAAL,GAAoBA,YAApB;AACH;;;;iCACYC,K,EAAOC,I,EAAMC,I,EAAK;AAC3B,UAAMC,GAAG,GAAG,0BAAwBH,KAApC;AACA,UAAMI,IAAI,GAAG;AACbC,QAAAA,OAAO,EAAE;AACL,0BAAgB;AADX,SADI;AAIbC,QAAAA,MAAM,EAAEL,IAJK;AAKbM,QAAAA,IAAI,EAAGC,IAAI,CAACC,SAAL,CAAeP,IAAf,KAAwB;AALlB,OAAb;AAOA,aAAOQ,KAAK,CAACP,GAAD,EAAMC,IAAN,CAAL,CAAiBO,IAAjB,CAAsB,UAAAC,MAAM;AAAA,eAAIA,MAAM,CAACC,IAAP,EAAJ;AAAA,OAA5B,CAAP;AACH;;;uCAEkBb,K,EAAOC,I,EAAMC,I,EAAK;AAAA;;AACjC,aAAO,KAAKY,YAAL,CAAkBd,KAAlB,EAAyBC,IAAzB,EAA+BC,IAA/B,EAAqCS,IAArC,CAA0C,UAAAC,MAAM,EAAI;AACvD,QAAA,KAAI,CAACd,eAAL,CAAqBiB,QAArB,CAA8BH,MAAM,CAACI,EAArC,IAA2C,KAAI,CAAClB,eAAL,CAAqBiB,QAArB,CAA8BE,OAAO,CAACC,OAAtC,CAA3C;AACA,QAAA,KAAI,CAACpB,eAAL,CAAqBiB,QAArB,CAA8BH,MAAM,CAACI,EAArC,EAAyCG,GAAzC,GAA+CP,MAAM,CAACI,EAAtD;AACA,eAAO,KAAI,CAAClB,eAAL,CAAqBiB,QAArB,CAA8BE,OAAO,CAACC,OAAtC,CAAP;AACA,QAAA,KAAI,CAACnB,YAAL,CAAkBqB,QAAlB,CAA2BC,cAA3B,CAA0CJ,OAAO,CAACC,OAAlD,EAA2DF,EAA3D,GAAgEJ,MAAM,CAACI,EAAvE;AACA,eAAOJ,MAAM,CAACI,EAAd;AACH,OANM,CAAP;AAOH","sourcesContent":["class FetchService{\n    constructor(_serviceContact, _viewContact){\n        this._serviceContact = _serviceContact;\n        this._viewContact = _viewContact;\n    }\n    fetchContact(route, verb, data){\n        const url = 'http://localhost:3005'+route;\n        const init = {\n        headers: {\n            'Content-type': 'application/json'\n        },\n        method: verb,\n        body : JSON.stringify(data) || null\n        };\n        return fetch(url, init).then(result => result.json());\n    }\n\n    fetchCreateContact(route, verb, data){\n        return this.fetchContact(route, verb, data).then(result => {\n            this._serviceContact.contacts[result.id] = this._serviceContact.contacts[CONTACT.DEFAULT];\n            this._serviceContact.contacts[result.id]._id = result.id;\n            delete this._serviceContact.contacts[CONTACT.DEFAULT];\n            this._viewContact.document.getElementById(CONTACT.DEFAULT).id = result.id;\n            return result.id;\n        });\n    }\n}"],"file":"fetch.service.js"}